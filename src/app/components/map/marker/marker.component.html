<img src="map-marker.svg"
     class="pin"
     alt="pin"
     [style.left]="(pos$|async)?.x + 'px'"
     [style.top]="(pos$|async)?.y + 'px'"
     [style.width]="pinSize + 'px'"
     [style.height]="pinSize + 'px'"
     (click)="onClick()"
>
<!--<img src="map-marker.svg"-->
<!--     class="pin fake"-->
<!--     alt="pin"-->
<!--     [style.left]="((pos$|async)?.x ?? 0) + pinSize / 2 - 4 + 'px'"-->
<!--     [style.top]="((pos$|async)?.y ?? 0) + pinSize / 2 - 4 + 'px'"-->
<!--     [style.width]="8 + 'px'"-->
<!--     [style.height]="8 + 'px'"-->
<!--&gt;-->
<ng-container *ngIf="clicked$ | async; then pinClicked"/>

<ng-template #pinClicked>
  <app-popup
    [style.bottom]="'calc(100vh - ' + ((pos$|async)?.y ?? 0) + 'px)'"
    [style.left]="((pos$|async)?.x ?? 0) + pinSize / 2 - 150 + 'px'"
  >
    <div class="header">
      <h1>{{pin.Name}}</h1>
      <div class="buttons">
        <img src="delete.svg" alt="" (click)="onDeleteButton()">
        <img src="close.svg" alt="" (click)="onClosePopup()">
      </div>
    </div>
    <p>{{pin.Content}}</p>
  </app-popup>
</ng-template>
